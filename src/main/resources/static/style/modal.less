/* Modales */

/* --- global --- */
/* open / close */
.modal-container {
  position:fixed;
  .flex-block();
  .align-items(center);
  .justify-content(center);
  height:100vh;
  width:100vw;
  top:0;
  left:0;
  .scale(@factor: 0);
  z-index:1;
  
  &.opened {
    z-index: 2;
    .scale(@factor: 1);
    .modal-background {
      background:rgba(0,0,0,.7);
      .modal {
        .animation(blowUpModal .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards);
      }
    }
    +.container {
      z-index:1;
    }
    &.out {
      .animation(blowUpModalTwo .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards);
      .modal-background {
        .modal {
          .animation(blowUpModalTwo .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards);
        }
      }
      +.container {
      }
    }
  }
  
  .modal-background {
    .flex-block();
    .align-items(center);
    .justify-content(center);
    height:100vh;
    width:100vw;
    background:rgba(0,0,0,.8);
    .modal {
      display: none;
      background: @bgModal;
      .box-shadow(0px 0px 80px 80px #010202);
      color: @black;
      position:relative;
      
      &.opened-modal {
        .flex-block();
      }
    }
  }
}

/* modal style global */
.modal {
  width: 738px;
  height: 720px;
  padding: 30px;
  .flex-block();
  .flex-direction(column);
  .modal-header {
    .flex-block();
    .modal-title {
      .flex-grow(1);
      .flex-block();
      .align-items(center);
      .justify-content(center);
      .old-regular();
      color: @greyText2;
      font-size: 25px;
      h2 {
        margin: -25px 0 0 0;
        position: relative;
        &.after-decoration {
          &:after {
            content: " ";
            display: inline-block;
            position: absolute;
            width: 225px;
            height: 47px;
            left: calc(~"50% - 112px");
            bottom: -50px;
            .svgBackground(url("@{branche1}@{iconColor1}@{branche2}"));
            background-repeat: no-repeat;
            background-size: 100% 100%;
          }
        }
      }
    }
    .btn-close {
      width: 75px;
      height: 57px;
      margin-top: -7px;
      margin-right: -12px;
    }
  }
  .modal-footer {
    .flex-block();
    .justify-content(center);
    .btn-valider {
      width: 75px;
      height: 57px;
    }
  }
  .modal-content {
    .flex-grow(1);
  }
}

/* modal with scrollable content */
.modal.scroll-content {
  .modal-header {
    .btn-close {
      width: 60px;
      
    }
  }
  .modal-content {
    padding: 50px 12px 0 0;
    max-height: 610px;
    font-size: 15px;
    overflow-y: auto;
    .modal-p {
      margin: 0 0 25px 0;
      a {
        .roboto-bold();
        color: @black;
      }
      strong {
        .roboto-bold();
      }
    }
    .sub-title {
      margin: 0 0 20px 0;
      font-size: 17px;
    }
    .mCS-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {
      background-color: @greyText1;
    }
    .mCS-dark.mCSB_scrollTools .mCSB_draggerRail {
      background-color: @white;
    }
  }
}

/* modal with slider */
.modal.illustrations-content {
  width: 982px;
  height: 828px;
  position: relative;
  .modal-header {
    .btn-close {
      z-index: 2;
    }
  }
  .modal-content {
    .owl-carousel {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      padding: 30px;
      .owl-stage-outer {
        height: 100%;
        .owl-stage {
          height: 100%;
          .owl-item {
            height: 100%;
          }
        }
      }
      .item-slider {
        height: 100%;
        .flex-block;
        .flex-direction(column);
        .justify-content(space-around);
        .title {
          height: 45px;
          h4 {
            margin: 0;
            .old-regular();
            font-size: 30px;
            color: @black;
            text-align: center;
          }
        }
        .illustration {
          width: 652px;
          .flex-grow(1);
          .flex-block();
          .flex-direction(column);
          .justify-content(center);
          margin: 0 auto;
        }
      }
      .owl-nav {
        [class^="owl-"] {
          width: 109px;
          height: 67px;
          position: absolute;
          top: calc(~"50% - 33px");
        }
        .owl-prev {
          left: 20px;
        }
        .owl-next {
          right: 20px;
          .back_icon {
            .fleche {
              .transform-origin(54px 33px);
              .rotate(180deg);
            }
          }
        }
      }
    }
  }
}

/* modal with list */
.list-content {
  .modal-content {
    padding: 25px 0;
    .flex-block();
    /* global for tag */
    .list-item {
      width: 100%;
      .flex-block();
      .flex-direction(column);
      .one-item {
        .flex-grow(1);
        .flex-block();
        .align-items(center);
        .justify-content(center);
        .old-regular();
        font-size: 30px;
        color: @greyText1;
        input {
          display: none;
          
          & + label {
            cursor: pointer;
            position: relative;
            z-index: 3;
            text-align: center;
            width: 220px;
            &:before {
              opacity: 0;
              transition: all .7s ease;
              content: " ";
              display: inline-block;
              position: absolute;
              z-index: -1;
              top: calc(~"50% - 22px");
              left: 12px;
              width: 43px;
              height: 41px;
              background-repeat: no-repeat;
              .svgBackground(url("@{gribouilli1}@{white}@{gribouilli2}"));
            }
            &:after {
              opacity: 0;
              transition: all .7s ease;
              content: " ";
              display: inline-block;
              position: absolute;
              z-index: -2;
              top: calc(~"50% - 30px");
              left: 39px;
              width: 140px;
              height: 60px;
              transform: scaleX(1.6);
              background-repeat: no-repeat;
              background-size: 100%  100%;
              .svgBackground(url("@{tache1}@{iconColor1}@{tache2}"));
            }

            &:hover {
              color: @black;
              &:after {
                opacity: 1;
                transition: all .7s ease;
              }
            }
          }
        }
        input:checked {
          & + label {
            color: @white;
            &:before {
              opacity: 1;
              transition: all .7s ease;
            }
            &:after {
              opacity: 1;
              transition: all .7s ease;
              .svgBackground(url("@{tache1}@{black}@{tache2}"));
            }
          }
        }
      }
    }
    /* specifique for mois */
    .list-item.mois {
      .one-item {
        font-size: 25px;
        input {
          & + label {
            &:before {
              width: 39px;
              height: 35px;
              top: calc(~"50% - 16px");
            }
            &:after {
              top: calc(~"50% - 20px");
              height: 45px;
              transform: scaleX(2.0);
            }
          }
        }
      }
    }
    /* specifique for mois */
    .list-item.auteur {
      .one-item {
        font-size: 25px;
        input {
          & + label {
            &:before {
              width: 39px;
              height: 35px;
              top: calc(~"50% - 13px");
              left: 0;
            }
            &:after {
              width: 160px;
              height: 75px;
              top: calc(~"50% - 40px");
            }
          }
        }
      }
    }
  }
}

/* RWD */
@media screen and (max-width: 1023px) {
  .modal {
    width: 100vw;
    height: 100vh;
    padding: 15px;
    .modal-header {
      .btn-close {
        height: 45px;
        width: 60px;
      }
    }
    .modal-foter {
      .btn-valider {
      width: 45px;
      height: 60px;
    }
    }
    &.scroll-content {
      .modal-header {
        .modal-title {
          font-size: 20px;
          h2 {
            &:after {
              width: 183px;
              height: 38px;
              left: calc(~"50% - 91px");
            }
          }
        }
      }
      .modal-content {
        max-height: none;
        padding: 45px 8px 0 0;
      }
    }
    &.illustrations-content {
      width: 100vw;
      height: 100vh;
      .modal-content {
        .owl-carousel {
          padding: 15px;
          .item-slider {
            .illustration {
              width: 100%;
              .flex-block();
              .flex-direction(column);
              .justify-content(center);
              padding-bottom: 50px;
              img {
                height: 100%;
              }
            }
          }
          .owl-nav {
            [class^="owl-"] {
              bottom: 25px;
              top: auto;
            }
            .owl-next {
              right: 15px;
              bottom: 42px;
            }
            .owl-prev {
              left: 15px;
            }
          }
        }
      }
    }
  }
}

/* animations */
.keyframes(blowUpModal;
  {
    0% {
      .scale(@factor: 0);
    }
    100% {
      .scale(@factor: 1);
    }
  }
);

.keyframes(blowUpModalTwo;
  {
    0% {
      .scale(@factor: 1);
      opacity:1;
    }
    100% {
      .scale(@factor: 0);
      opacity:0;
    }
  }
);